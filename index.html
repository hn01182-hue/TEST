<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íŠ¸ë¦­ì»¬ íš¨ìœ¨ ê³„ì‚°ê¸°</title>

    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <style>
        :root { --primary: #7db249; --bg: #fdf6e3; --card: #ffffff; }
       body {
    		font-family: 'Pretendard', sans-serif;
  		    background-image: url('https://i.postimg.cc/L5djnxms/197cffe21bd4f8151.gif');
   		    background-repeat: repeat; /* ì´ë¯¸ì§€ë¥¼ ë°”ë‘‘íŒì‹ìœ¼ë¡œ ë°˜ë³µ */
  		    background-size: 950px;    /* íŒ¨í„´ í¬ê¸° ì¡°ì ˆ */
  		    background-attachment: fixed;
  		    padding: 20px;
  		    color: #444;
   		    margin: 0;
            }
    
/* 2. (ì¶”ê°€ íŒ) ê³„ì‚°ê¸° ë°•ìŠ¤ë¥¼ ì‚´ì§ íˆ¬ëª…í•˜ê²Œ ë§Œë“¤ë©´ ë” ì˜ˆì©ë‹ˆë‹¤. .card ë¶€ë¶„ë„ ì°¾ì•„ë³´ì„¸ìš”. */
.card {
    background: rgba(255, 255, 255, 0.9); /* 90% íˆ¬ëª…í•œ í•˜ì–€ìƒ‰ */
    backdrop-filter: blur(5px);          /* ë°°ê²½ì„ ì‚´ì§ íë¦¬ê²Œ í•´ì„œ ê¸€ì ì˜ ë³´ì´ê²Œ */
    padding: 20px;
    border-radius: 0 0 15px 15px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    display: none;
}
        .container { max-width: 500px; margin: auto; }
        
        .tabs { display: flex; gap: 4px; margin-bottom: 15px; }
        .tab { flex: 1; padding: 12px 4px; text-align: center; background: #ddd; cursor: pointer; border-radius: 10px 10px 0 0; font-weight: bold; font-size: 0.8em; }
        .tab.active { background: var(--card); color: var(--primary); border-bottom: 3px solid var(--primary); }
        
        .card { background: var(--card); padding: 20px; border-radius: 0 0 15px 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); display: none; }
        .card.active { display: block; }

        .pkg-card { border: 1px solid #eee; border-radius: 12px; padding: 15px; margin-bottom: 15px; background: #fafafa; }
        .pkg-name { font-weight: 800; color: #333; margin-bottom: 5px; display: block; }
        .pkg-price-tag { color: var(--primary); font-weight: bold; font-size: 0.9em; }
        .pkg-items { font-size: 0.8em; color: #777; margin-top: 8px; line-height: 1.4; }
        .apply-btn { margin-top: 10px; width: 100%; padding: 8px; background: #fff; border: 1.5px solid var(--primary); color: var(--primary); border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.2s; }
        .apply-btn:hover { background: var(--primary); color: #fff; }

        .row { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
        .item-info { display: flex; align-items: center; gap: 10px; flex: 1; }
        .item-icon { width: 32px; height: 32px; object-fit: contain; background: #eee; border-radius: 6px; flex-shrink: 0; }
        .item-name { font-size: 0.95em; font-weight: 600; }
        .input-wrapper { display: flex; align-items: center; gap: 5px; width: 150px; justify-content: flex-end; }
        input { width: 120px; padding: 8px; border: 1.5px solid #eee; border-radius: 6px; text-align: right; font-size: 14px; box-sizing: border-box; }
        input:read-only { background-color: #f9f9f9; color: #aaa; border-color: #eee; cursor: not-allowed; }
        .unit { font-size: 0.85em; font-weight: bold; color: #666; width: 25px; text-align: left; }

        .list-header { display: flex; gap: 10px; margin-bottom: 5px; margin-top: 15px; }
        .header-spacer { flex: 1; }
        .header-title { width: 120px; text-align: center; margin-right: 30px; font-size: 0.75em; font-weight: bold; color: #999; letter-spacing: 1px; }

        .btn { width: 100%; padding: 12px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 15px; }
        .btn-main { background: var(--primary); color: white; }
        .btn-sub { background: #f0f0f0; color: #666; font-size: 0.85em; }
        
        .reset-container { display: flex; justify-content: flex-end; margin-top: 20px; }
        .btn-reset { padding: 8px 15px; background: #ffebf0; color: #e91e63; font-size: 0.8em; border-radius: 6px; border: none; cursor: pointer; font-weight: bold; }

        #result { margin-top: 20px; padding: 20px; border-radius: 12px; text-align: center; display: none; background: #f8f9fa; border: 1px solid #e9ecef; }
        .result-val { font-size: 2.2em; font-weight: 800; color: var(--primary); margin: 5px 0; }
        .small-text { font-size: 0.8em; color: #888; margin-bottom: 5px; }
    </style>
</head>
<body>

<div class="container">
    <div class="tabs">
        <div class="tab active" onclick="openTab('preset')">ğŸ ì¶œì‹œ íŒ¨í‚¤ì§€</div>
        <div class="tab" onclick="openTab('constant')">ğŸ›ï¸ ìƒì‹œ íŒ¨í‚¤ì§€</div>
        <div class="tab" onclick="openTab('calc')">ğŸ“Š ë¶„ì„</div>
        <div class="tab" onclick="openTab('settings')">âš™ï¸ ì„¤ì •</div>
    </div>

    <div id="preset" class="card active">
        <p class="small-text">ë§¤ì£¼ ì—…ë°ì´íŠ¸ë˜ëŠ” í•œì •/ì´ë²¤íŠ¸ íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤.</p>
        <div id="released-list"></div>
    </div>

    <div id="constant" class="card">
        <p class="small-text">ë°ì¼ë¦¬/ì›”ê°„ ë“± ê¾¸ì¤€íˆ íŒë§¤ë˜ëŠ” íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤.</p>
        <div id="constant-list"></div>
    </div>

    <div id="calc" class="card">
        <div class="row">
            <div class="item-info"><span class="item-name" style="font-size: 1.1em; color: var(--primary);">ğŸ“¦ íŒ¨í‚¤ì§€ ê°€ê²©</span></div>
            <div class="input-wrapper">
                <input type="number" id="pkg-price" placeholder="0" oninput="saveCurrentPrice()">
                <span class="unit">ì›</span>
            </div>
        </div>
        <div id="item-inputs" style="margin-top:10px;"></div>
        <button class="btn btn-main" onclick="calculate()">íš¨ìœ¨ ê³„ì‚°í•˜ê¸°</button>
        <div id="result">
            <div class="small-text">ì´ íŒ¨í‚¤ì§€ì˜ 1,000ì›ë‹¹ ê°€ì¹˜</div>
            <div class="result-val" id="res-rate">0ê°œ</div>
            <div id="res-total" style="font-size: 0.9em; color: #666;">(ì´ ì—˜ë¦¬í”„ í™˜ì‚°: 0ê°œ)</div>
        </div>
    </div>

    <div id="settings" class="card">
        <p class="small-text">ë¬´ë£Œ ì—˜ë¦¬í”„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê°€ì¹˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.</p>
        <div id="settings-list"></div>
        <button class="btn btn-sub" onclick="copyShareLink()">ğŸ”— ì„¤ì • ê³µìœ  ë§í¬ ë³µì‚¬</button>
        <div class="reset-container"><button class="btn-reset" onclick="resetConfig()">âš ï¸ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ì´ˆê¸°í™”</button></div>
    </div>
</div>

<script>
    const STORAGE_KEY = 'trickcal_calc_v9_stable';

    // ì¶œì‹œ íŒ¨í‚¤ì§€ (ì´ë²¤íŠ¸ì„±)
    const releasedPackages = [
        { name: "ì•„ë©œë¦¬ì•„(R41)ì˜ ê¸°ì¨ íŒ¨í‚¤ì§€", price: 3300, contents: { p_elif: 100, kcandy: 200, manual: 800, nuru: 3, food_blue: 5 } },
        { name: "ì•„ë©œë¦¬ì•„(R41)ì˜ ì„ í¬ íŒ¨í‚¤ì§€", price: 3300, contents: { p_elif: 100, scandy: 100, light_box: 200, nuru: 3, food_blue: 5 } },
        { name: "ì•„ë©œë¦¬ì•„(R41)ì˜ í¬ì—´ íŒ¨í‚¤ì§€", price: 9900, contents: { p_elif: 300, t_apostle: 10, t_card: 10 } },
        { name: "ì•„ë©œë¦¬ì•„(R41)ì˜ ì¹´ë¦¬ìŠ¤ë§ˆ íŒ¨í‚¤ì§€", price: 19800, contents: { p_elif: 600, kcandy: 600, scandy: 600, thumbs: 40, gold: 120 } },
        { name: "ì•„ë©œë¦¬ì•„(R41)ì˜ ê²°ì‹¬ íŒ¨í‚¤ì§€", price: 49500, contents: { p_elif: 1500, f_elif: 1500, cert: 400, kcandy: 1000, scandy: 500 } },
        { name: "ì•„ë©œë¦¬ì•„(R41)ì˜ ê°ì˜¤ íŒ¨í‚¤ì§€", price: 49500, contents: { p_elif: 1500, adv_ticket: 1, crayon_highest: 6 } },
        { name: "ì•„ë©œë¦¬ì•„(R41)ì˜ ì™„ë²½ íŒ¨í‚¤ì§€", price: 99000, contents: { t_apostle: 100, attr_ticket: 3 } },
    ];

    // [ìƒì‹œ íŒ¨í‚¤ì§€] ìš”ì²­í•˜ì‹  ë¦¬ìŠ¤íŠ¸ë¡œ ì—…ë°ì´íŠ¸ ì™„ë£Œ
    const constantPackages = [
        { 
            name: "ë°ì¼ë¦¬ ì—˜ë¦¬í”„", 
            price: 9900, 
            contents: { p_elif: 1500, f_elif: 2000, manual: 2139, r_low: 124 } 
        },
        { 
            name: "ë°ì¼ë¦¬ ë³„ì‚¬íƒ•", 
            price: 9900, 
            contents: { scandy: 4460 } 
        },
        { 
            name: "ë°ì¼ë¦¬ ì™•ì‚¬íƒ•", 
            price: 5500, 
            contents: { kcandy: 4850, nuru: 31 } 
        },
        { 
            name: "ì›”ê°„ í¬ë ˆíŒŒìŠ¤ íŒ¨í‚¤ì§€", 
            price: 29500, 
            contents: { p_elif: 900, gold: 200, crayon_highest: 4 } 
        },
        { 
            name: "ì›”ê°„ êµë‹¨ ì¦ëª…ì„œ íŒ¨í‚¤ì§€", 
            price: 49500, 
            contents: { p_elif: 1500, f_elif: 1500, cert: 500 } 
        },
        {
            name: "ì€ì´ íŒ¨í‚¤ì§€",
            price: 99000,
            contents: { p_elif: 6000, crayon_highest: 10, scandy: 500, kcandy: 500 }
        }
    ];

    const defaultConfig = {
        price: 0,
        items: [
            { id: 'p_elif', name: 'ìœ ë£Œ ì—˜ë¦¬í”„', val: 2, icon: 'https://i.postimg.cc/VvQ5NYJK/ì—˜ë¦¬í”„.webp', count: "" },
            { id: 'f_elif', name: 'ë¬´ë£Œ ì—˜ë¦¬í”„', val: 1, fixed: true, icon: 'https://i.postimg.cc/VvQ5NYJK/ì—˜ë¦¬í”„.webp', count: "" },
            { id: 'thumbs', name: 'ë”°ë´‰', val: 20, icon: 'https://i.postimg.cc/pTnpx9LZ/ë”°ë´‰.webp', count: "" },
            { id: 'kcandy', name: 'ì™•ì‚¬íƒ•', val: 0.5, icon: 'https://i.postimg.cc/KjS4YZK2/ì™•ì‚¬íƒ•.webp', count: "" },
            { id: 'scandy', name: 'ë³„ì‚¬íƒ•', val: 2, icon: 'https://i.postimg.cc/905zfWDY/ë³„ì‚¬íƒ•.webp', count: "" },
            { id: 'crayon_low', name: 'í•˜ê¸‰ í¬ë ˆíŒŒìŠ¤', val: 0, icon: 'https://i.postimg.cc/hvWhGSJR/ì¼ë°˜í¬ë ˆíŒŒìŠ¤.webp', count: "" },
            { id: 'crayon_mid', name: 'ì¤‘ê¸‰ í¬ë ˆíŒŒìŠ¤', val: 0, icon: 'https://i.postimg.cc/gJ6ndw2J/íŒŒë€í¬ë ˆíŒŒìŠ¤.webp', count: "" },
            { id: 'crayon_high', name: 'ìƒê¸‰ í¬ë ˆíŒŒìŠ¤', val: 60, icon: 'https://i.postimg.cc/L5KhsHJk/ë³´ë¼í¬ë ˆíŒŒìŠ¤.webp', count: "" },
            { id: 'crayon_highest', name: 'ìµœìƒê¸‰ í¬ë ˆíŒŒìŠ¤', val: 668, icon: 'https://i.postimg.cc/j5JLKWSH/í™©ê¸ˆí¬ë ˆíŒŒìŠ¤.webp', count: "" },
            { id: 'gold', name: 'ê³¨ë“œ (1ë§Œ ë‹¨ìœ„)', val: 4, icon: 'https://i.postimg.cc/k4tB9Vgw/ê³¨ë“œ.webp', count: "" },
            { id: 'cert', name: 'êµí™˜ ì¦ëª…ì„œ', val: 8.5, icon: 'https://i.postimg.cc/LXZnRq8V/êµí™˜ì¦ëª…ì„œ.webp', count: "" },
            { id: 'spec_ticket', name: 'íŠ¹ë³„ ëª¨ì§‘ê¶Œ', val: 130, icon: 'https://i.postimg.cc/X7FPvPk6/ì‚¬ë„ëœë¤(10).png', count: "" },
            { id: 'adv_ticket', name: 'ì´ˆê³ ê¸‰ ëª¨ì§‘ê¶Œ', val: 260, icon: 'https://i.postimg.cc/5NvrtrSV/ì´ˆê³ ê¸‰ëª¨ì§‘ê¶Œ(20).png', count: "" },
            { id: 'select_ticket', name: 'ì¼ë°˜ ì‚¬ë„ ì„ íƒê¶Œ', val: 2550, icon: 'https://i.postimg.cc/rwkPR9fR/ì¼ë°˜ì„ íƒê¶Œ.png', count: "" },
            { id: 'attr_ticket', name: 'ì†ì„± ëª¨ì§‘ê¶Œ', val: 260, icon: 'https://i.postimg.cc/wTJrBrQ8/ì†ì„±ë½‘ê¸°ê¶Œ.png', count: "" },
            { id: 'elch_ticket', name: 'ì—˜ë‹¤ì¸ ì„ íƒê¶Œ', val: 6800, icon: 'https://i.postimg.cc/YCHsLxdK/ì„ íƒì—˜ë‹¤ì¸.png', count: "" },
            { id: 'elch_ticket', name: 'ì—˜ë‹¤ì¸ ì—°ì„±ê¶Œ', val: 680, icon: 'https://i.postimg.cc/SKrRbVv9/ì—˜ë‹¤ì¸_ì—°ì„±ê¶Œ.png', count: "" },
            { id: 'light_box', name: 'ë¬´ì‘ìœ„ ë¹› ìƒì', val: 0, icon: 'https://i.postimg.cc/nhJP913L/ë¹›ìƒì.png', count: "" },
            { id: 'food_blue', name: 'ìš”ë¦¬(íŒŒë‘)', val: 0, icon: 'https://i.postimg.cc/TYmsPsJT/íŒŒë€ëœë¤ë°¥.png', count: "" },
            { id: 'food_purple', name: 'ìš”ë¦¬(ë³´ë¼)', val: 0, icon: 'https://i.postimg.cc/FH4BkxDM/ë³´ë¼ëœë¤ë°¥.png', count: "" },
            { id: 't_apostle', name: 'ì‚¬ë„ë½‘ê¸°ê¶Œ', val: 60, icon: 'https://i.postimg.cc/PJsNqtC4/ì‚¬ë„ë½‘ê¸°.webp', count: "" },
            { id: 't_card', name: 'ì¹´ë“œë½‘ê¸°ê¶Œ', val: 40, icon: 'https://i.postimg.cc/ZqQC1P45/ì¹´ë“œë½‘ê¸°.webp', count: "" },
            { id: 'nuru', name: 'ëˆ„ë£¨ë§', val: 40, icon: 'https://i.postimg.cc/BvgbfNVX/ëˆ„ë£¨ë§.png', count: "" },
            { id: 'manual', name: 'ì¥ë¹„ì˜ ì •ì„', val: 0.125, icon: 'https://i.postimg.cc/XqfqGT5z/ì¥ë¹„ì˜_ì •ì„.webp', count: "" },
            { id: 'r_low', name: 'í•˜ê¸‰ ì œë ¨ì„', val: 3, icon: 'https://i.postimg.cc/y8Hb3TL7/í•˜ê¸‰ì œë ¨ì„.png', count: "" },
            { id: 'r_mid', name: 'ì¤‘ê¸‰ ì œë ¨ì„', val: 6, icon: 'https://i.postimg.cc/bwhBSRmz/ì¤‘ê¸‰ì œë ¨ì„.png', count: "" },
            { id: 'r_high', name: 'ìƒê¸‰ ì œë ¨ì„', val: 13, icon: 'https://i.postimg.cc/qvT56G1v/ìƒê¸‰ì œë ¨ì„.png', count: "" },
            { id: 'm_low', name: 'í•˜ê¸‰ ë§ˆì‹œë©œë¡œ ì„ íƒ ìƒì', val: 0, icon: 'https://i.postimg.cc/52SkBFrt/í•˜ê¸‰_ë§ˆì‹œë§¬ë¡œ.png', count: "" },
            { id: 'm_mid', name: 'ì¤‘ê¸‰ ë§ˆì‹œë©œë¡œ ì„ íƒ ìƒì', val: 0, icon: 'https://i.postimg.cc/y8yrmSGd/ì¤‘ê¸‰ë§ˆì‹œë§¬ë¡œ.png', count: "" },
            { id: 'm_high', name: 'ìƒê¸‰ ë§ˆì‹œë©œë¡œ ì„ íƒ ìƒì', val: 0, icon: 'https://i.postimg.cc/t4jMnzBV/ìƒê¸‰ë§ˆì‹œë§¬ë¡œ.png', count: "" },
            { id: 'm_high', name: 'êµì£¼ì˜ ë°© ê¾¸ë¯¸ê¸° ì¬ë£Œ ìƒì', val: 0, icon: 'https://i.postimg.cc/L8pbgVxS/ê¾¸ë¯¸ê¸°ìƒì.png', count: "" },
            { id: 'm_high', name: 'êµë‹¨ ì„±ì¥ ì¬ë£Œ ìƒì', val: 0, icon: 'https://i.postimg.cc/13QjVKv1/êµë‹¨ì„±ì¥ì¬ë£Œìƒì.png', count: "" }
        ]
    };

    let config = JSON.parse(JSON.stringify(defaultConfig));

    function openTab(tabId) {
        document.querySelectorAll('.tab, .card').forEach(el => el.classList.remove('active'));
        const targetTab = document.querySelector(`.tab[onclick="openTab('${tabId}')"]`);
        if(targetTab) targetTab.classList.add('active');
        document.getElementById(tabId).classList.add('active');
        
        if(tabId === 'calc') renderCalc();
        if(tabId === 'settings') renderSettings();
        if(tabId === 'preset') renderPackages('released-list', releasedPackages);
        if(tabId === 'constant') renderPackages('constant-list', constantPackages);
    }

    function renderPackages(containerId, packageList) {
        const list = document.getElementById(containerId);
        list.innerHTML = packageList.map((pkg, index) => {
            const summary = Object.entries(pkg.contents).map(([id, count]) => {
                const item = config.items.find(i => i.id === id);
                return `${item ? item.name : id} x${count}`;
            }).join(', ');

            return `
                <div class="pkg-card">
                    <span class="pkg-name">${pkg.name}</span>
                    <span class="pkg-price-tag">${pkg.price.toLocaleString()}ì›</span>
                    <div class="pkg-items">${summary}</div>
                    <button class="apply-btn" onclick="applyPackage('${containerId}', ${index})">ì´ êµ¬ì„±ìœ¼ë¡œ ë¶„ì„í•˜ê¸°</button>
                </div>
            `;
        }).join('');
    }

    function applyPackage(sourceId, index) {
        const list = sourceId === 'released-list' ? releasedPackages : constantPackages;
        const pkg = list[index];
        config.price = pkg.price;
        config.items.forEach(item => {
            item.count = pkg.contents[item.id] || "";
        });
        openTab('calc');
        calculate();
    }

    function saveCurrentInputs() {
        config.items.forEach(item => {
            const input = document.getElementById(`cnt-${item.id}`);
            if(input) item.count = input.value;
        });
    }

    function saveCurrentPrice() {
        const priceInput = document.getElementById('pkg-price');
        if(priceInput) config.price = priceInput.value;
    }

    function saveAllSettings() {
        config.items.forEach(item => {
            if (!item.fixed) {
                const input = document.getElementById(`val-${item.id}`);
                if(input) item.val = parseFloat(input.value) || 0;
            }
        });
        localStorage.setItem(STORAGE_KEY, JSON.stringify(config));
    }

    function loadAll() {
        const urlParams = new URLSearchParams(window.location.search);
        const data = urlParams.get('v');
        if(data) {
            try { config = JSON.parse(decodeURIComponent(data)); } catch(e) {}
        } else {
            const saved = localStorage.getItem(STORAGE_KEY);
            if(saved) {
                const parsedSaved = JSON.parse(saved);
                config.items = config.items.map(item => {
                    const savedItem = parsedSaved.items.find(si => si.id === item.id);
                    return savedItem ? { ...item, val: savedItem.val } : item;
                });
            }
        }
        renderPackages('released-list', releasedPackages);
    }

    function resetConfig() {
        if(confirm("ëª¨ë“  ì„¤ì •ì„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
            localStorage.removeItem(STORAGE_KEY);
            config = JSON.parse(JSON.stringify(defaultConfig));
            renderSettings();
            alert("ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.");
        }
    }

    function createRowHtml(item, type) {
        const inputId = type === 'val' ? `val-${item.id}` : `cnt-${item.id}`;
        const valueAttr = type === 'val' ? `value="${item.val}"` : `value="${item.count || ''}"`;
        const onInput = type === 'val' ? 'oninput="saveAllSettings()"' : 'oninput="saveCurrentInputs()"';
        const readonly = (type === 'val' && item.fixed) ? 'readonly' : '';

        return `
            <div class="row">
                <div class="item-info">
                    <img src="${item.icon || 'https://via.placeholder.com/32'}" class="item-icon">
                    <span class="item-name">${item.name}</span>
                </div>
                <div class="input-wrapper">
                    <input type="number" id="${inputId}" ${valueAttr} step="0.001" ${onInput} ${readonly} placeholder="0">
                </div>
            </div>
        `;
    }

    function renderSettings() {
        document.getElementById('settings-list').innerHTML = config.items.map(item => createRowHtml(item, 'val')).join('');
    }

    function renderCalc() {
        document.getElementById('pkg-price').value = config.price || "";
        document.getElementById('item-inputs').innerHTML = config.items.map(item => createRowHtml(item, 'cnt')).join('');
    }

    function calculate() {
        const price = parseFloat(document.getElementById('pkg-price').value);
        if(!price || price <= 0) { alert("íŒ¨í‚¤ì§€ ê°€ê²©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."); return; }
        let totalElif = 0;
        config.items.forEach(item => {
            const input = document.getElementById(`cnt-${item.id}`);
            const count = input ? parseFloat(input.value) : 0;
            totalElif += (isNaN(count) ? 0 : count) * item.val;
        });
        const ratePer1000 = (totalElif / price) * 1000;
        document.getElementById('result').style.display = 'block';
        document.getElementById('res-rate').innerText = `${ratePer1000.toFixed(1)}ê°œ`;
        document.getElementById('res-total').innerText = `(ì´ ì—˜ë¦¬í”„ í™˜ì‚°: ${totalElif.toLocaleString()}ê°œ)`;
    }

    function copyShareLink() {
        const data = encodeURIComponent(JSON.stringify(config));
        const url = `${window.location.origin}${window.location.pathname}?v=${data}`;
        navigator.clipboard.writeText(url).then(() => alert("ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤."));
    }

    window.onload = loadAll;
</script>
</body>
</html>

